@inherits LayoutComponentBase

@if (IsLogin)
{
    <Layout Style="height: 100%">
        <Sider Width="256">
            <NavMenu/>
        </Sider>
        <Layout>
            <Header style=" padding: 0px; background-color: whitesmoke; border-bottom: solid 1px darkgray">
                <div class="nav_header">
                    <Button Type="@ButtonType.Text">
                        <Icon Type="menu-fold" Theme="outline"/>
                    </Button>
                    <Dropdown Style="margin-right: 20px" Trigger="new[] { Trigger.Click }" Placement="Placement.Bottom" Arrow>
                        <Overlay>
                            <Menu>
                                <MenuItem>退出登录</MenuItem>
                                <MenuItem>切换主题</MenuItem>
                            </Menu>
                        </Overlay>
                        <ChildContent>
                            <Button Type="@ButtonType.Text">系统管理员-张三</Button>
                        </ChildContent>
                    </Dropdown>
                </div>
            </Header>
            <Content Style="margin: 40px 20px 20px 20px;height: 100%;">
                @Body
            </Content>
            @* <Footer>Footer</Footer> *@
        </Layout>
    </Layout>
}
else
{
    <div class="login_container">
        <div class="login_content">
            <Form Model="@model"
                  OnFinish="OnFinish"
                  OnFinishFailed="OnFinishFailed"
                  LabelColSpan="8"
                  WrapperColSpan="16">
                <FormItem>
                    <h2 style="text-align: center;align-items: center">极光后台管理系统</h2>
                </FormItem>
                <FormItem>
                    <Input @bind-Value="@context.Username"/>
                </FormItem>
                <FormItem Label="Password">
                    <InputPassword @bind-Value="@context.Password"/>
                </FormItem>
                <FormItem WrapperColOffset="8" WrapperColSpan="16">
                    <Checkbox @bind-Value="context.RememberMe">Remember me</Checkbox>
                </FormItem>
                <FormItem WrapperColOffset="8" WrapperColSpan="16">
                    <Button Type="@ButtonType.Primary" HtmlType="submit">
                        Submit
                    </Button>
                </FormItem>
            </Form>
        </div>
    </div>
}